(self.webpackChunkui=self.webpackChunkui||[]).push([[82],{62831:function(t,e,n){"use strict";n.d(e,{n4:function(){return o},WE:function(){return c},Pz:function(){return i},t3:function(){return r},l:function(){return a},aX:function(){return u},ll:function(){return s},i4:function(){return l},dp:function(){return d},Nt:function(){return m},rl:function(){return g},Nv:function(){return f},kv:function(){return p},V7:function(){return h},pe:function(){return A}});const o=[{key:"Male",val:"Male"},{key:"Female",val:"Female"}];let c=(()=>{class t{}return t.ACTIVE="Active",t.EXPIRED="Expired",t})();const i=[{key:c.ACTIVE,val:c.ACTIVE},{key:c.EXPIRED,val:c.EXPIRED}],r=[{key:"Active",val:"Active"},{key:"Expired",val:"Expired"}],a=[{key:"Yes",val:!0},{key:"No",val:!1}];let u=(()=>{class t{}return t.MONTHLY="Monthly",t.YEARLY="Yearly",t})();const s=[{key:u.MONTHLY,val:u.MONTHLY}];let l=(()=>{class t{}return t.ADMIN="Admin",t.INVESTOR="Investor",t})(),d=(()=>{class t{}return t.CREATED="Created",t.DISBURSED="Disbursed",t.REJECTED="Rejected",t.CLOSED="Closed",t})();const m=[{key:d.CREATED,val:d.CREATED},{key:d.DISBURSED,val:d.DISBURSED},{key:d.REJECTED,val:d.REJECTED},{key:d.CLOSED,val:d.CLOSED}];let g=(()=>{class t{}return t.NEW="New",t.QUALIFIED="Qualified",t.DIS_QUALIFIED="Dis-qualified",t.CLOSED="Closed",t.ACCOUNT_CREATED="Account Created",t})();const f=[{key:g.NEW,val:g.NEW},{key:g.QUALIFIED,val:g.QUALIFIED},{key:g.DIS_QUALIFIED,val:g.DIS_QUALIFIED},{key:g.CLOSED,val:g.CLOSED},{key:g.ACCOUNT_CREATED,val:g.ACCOUNT_CREATED}];let p=(()=>{class t{}return t.LOAN="Loan",t.SENDOI="Sendoi",t})();const h=[{key:p.SENDOI,val:p.SENDOI}];let Z=(()=>{class t{}return t.PAID="Paid",t.NOT_PAID="Not Paid",t.PARTIALLY_PAID="Partially Paid",t})();const A=[{key:Z.PAID,val:Z.PAID},{key:Z.NOT_PAID,val:Z.NOT_PAID},{key:Z.PARTIALLY_PAID,val:Z.PARTIALLY_PAID}]},34571:function(t,e,n){"use strict";n.d(e,{B:function(){return l}});var o=n(88002),c=n(34709),i=n(37716),r=n(91841),a=n(63718),u=n(79332),s=n(79830);let l=(()=>{class t{constructor(t,e,n,o){this.http=t,this.leadService=e,this.customerService=n,this.productService=o}getAccounts(t){let e=this.http.get(c.N$.ACCOUNTS);return t&&(e=this.http.get(c.N$.ACCOUNTS,{params:t})),e.pipe((0,o.U)(t=>!t||t.length<=0?[]:t.map(t=>{const e=Object.assign({},t);return e.lead=this.leadService.getLeadByLeadId(e.leadId),e.customer=this.customerService.getCustomerByCustomerId(e.customerId),e.product=this.productService.getIProductByProductId(e.productId),e})))}getAccountById(t){return this.http.get(c.N$.ACCOUNTS+"/"+t).pipe((0,o.U)(t=>{if(!t)return null;const e=Object.assign({},t);return e.lead=this.leadService.getLeadByLeadId(e.leadId),e.customer=this.customerService.getCustomerByCustomerId(e.customerId),e.product=this.productService.getIProductByProductId(e.productId),e}))}getAccountByAccountNo(t){return this.getAccounts({accountNo:t}).pipe((0,o.U)(t=>!t||t.length<=0?null:t[0]))}getAccount(t){return this.getAccounts(t).pipe((0,o.U)(t=>!t||t.length<=0?null:t[0]))}createAccount(t){return this.http.post(c.N$.ACCOUNTS,t)}updateAccount(t,e){return this.http.put(c.N$.ACCOUNTS+"/"+e,t)}deleteAccount(t){return this.http.delete(c.N$.ACCOUNTS+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.eN),i.LFG(a.y),i.LFG(u.v),i.LFG(s.M))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})()},28977:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var o=n(34709),c=n(37716),i=n(91841);let r=(()=>{class t{constructor(t){this.http=t}getEmiList(t){return this.http.get(o.N$.EMI_S+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(i.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})()},81999:function(t,e,n){"use strict";n.d(e,{G:function(){return f}});var o=n(3679),c=n(37716),i=n(12542),r=n(54655),a=n(77001),u=n(98295),s=n(49983),l=n(38583),d=n(51095);function m(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1,"Email is required."),c.qZA())}function g(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1,"Password is required."),c.qZA())}let f=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.snackBar=n,this.emailFormCtl=new o.NI("",null),this.passwordFormCtl=new o.NI("",null)}ngOnInit(){}login(){const t={email:this.emailFormCtl.value,password:this.passwordFormCtl.value};t.email&&t.password&&this.authService.login(t).subscribe(t=>{this.router.navigate(["/dashboard"]),this.authService.sendLoginSignal(!0)},t=>{console.log(t),this.errorMessage="Invalid credential !",this.snackBar.open("Invalid credential.","Got it!",{duration:5e3})})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(i.e),c.Y36(r.F0),c.Y36(a.ux))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-login"]],decls:33,vars:4,consts:[[1,"bg-1","p-4","d-flex","flex-column","align-items-center","content"],[1,"jumbotron","font-white"],[1,"attach-body"],[1,"login-content","p-5"],[1,"mat-elevation-z1","w-100","p-5","bg-white"],[1,"font-300"],[1,"w-100"],["matInput","","placeholder","Enter your email",3,"formControl"],[4,"ngIf"],["type","password","matInput","","placeholder","Enter your password",3,"formControl"],[1,"text-right"],["type","submit","mat-raised-button","",1,"w-100","bg-grey","font-white",3,"click"],[1,"d-flex","justify-content-end","mt-4"],["routerLink","/auth/reset-password"],[1,"bg-1","bg-light-grey","h-100"]],template:function(t,e){1&t&&(c.TgZ(0,"div"),c.TgZ(1,"div",0),c.TgZ(2,"div",1),c.TgZ(3,"h2"),c._uU(4,"Lender"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Powered by prilax group"),c.qZA(),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"div",3),c.TgZ(9,"div",4),c.TgZ(10,"h2",5),c._uU(11,"Sign In"),c.qZA(),c._UZ(12,"hr"),c._UZ(13,"br"),c._UZ(14,"br"),c.TgZ(15,"form"),c.TgZ(16,"p"),c.TgZ(17,"mat-form-field",6),c.TgZ(18,"mat-label"),c._uU(19,"Email"),c.qZA(),c._UZ(20,"input",7),c.YNc(21,m,2,0,"mat-error",8),c.qZA(),c.qZA(),c.TgZ(22,"p"),c.TgZ(23,"mat-form-field",6),c._UZ(24,"input",9),c.YNc(25,g,2,0,"mat-error",8),c.qZA(),c.qZA(),c.TgZ(26,"div",10),c.TgZ(27,"button",11),c.NdJ("click",function(){return e.login()}),c._uU(28,"Login"),c.qZA(),c.qZA(),c.TgZ(29,"div",12),c.TgZ(30,"a",13),c._uU(31,"Forget password?"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(32,"div",14),c.qZA()),2&t&&(c.xp6(20),c.Q6J("formControl",e.emailFormCtl),c.xp6(1),c.Q6J("ngIf",e.emailFormCtl.invalid),c.xp6(3),c.Q6J("formControl",e.passwordFormCtl),c.xp6(1),c.Q6J("ngIf",e.passwordFormCtl.invalid))},directives:[o._Y,o.JL,o.F,u.KE,u.hX,s.Nt,o.Fj,o.JJ,o.oH,l.O5,d.lW,r.yS,u.TO],styles:[".error[_ngcontent-%COMP%]{height:50px}.content[_ngcontent-%COMP%]{background-color:#08aeea;background-image:linear-gradient(0deg,#08aeea,#2af598)}.xl-icon[_ngcontent-%COMP%]{font-size:10rem;font-weight:300;color:#008b8b}.xl-font[_ngcontent-%COMP%]{font-size:4rem;font-weight:300}.bg-1[_ngcontent-%COMP%]{height:300px}.login-content[_ngcontent-%COMP%]{width:480px;position:absolute;top:0;left:-80px}.jumbotron[_ngcontent-%COMP%]{width:100%;background:transparent}.attach-body[_ngcontent-%COMP%]{position:relative;width:350px;height:400px}"]}),t})()},38445:function(t,e,n){"use strict";n.d(e,{d:function(){return a}});var o=n(81999),c=n(37716),i=n(12542),r=n(54655);let a=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.getUserData().subscribe(e=>{this.route(e,t)},e=>{this.route(null,t)}),!0}route(t,e){e.component===o.G?t?(this.router.navigate(t.needChangePassword?["/dashboard"]:["/auth/change-password"]),this.authService.sendLoginSignal(!0)):this.authService.sendLoginSignal(!1):t?this.authService.sendLoginSignal(!0):(this.authService.sendLoginSignal(!1),this.router.navigate(["/auth/login"]))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(i.e),c.LFG(r.F0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},79332:function(t,e,n){"use strict";n.d(e,{v:function(){return u}});var o=n(88002),c=n(9643),i=n(34709),r=n(37716),a=n(91841);let u=(()=>{class t{constructor(t){this.http=t}getAllCustomers(t){return t?this.http.get(i.N$.CUSTOMERS,{params:t}):this.http.get(i.N$.CUSTOMERS)}getCustomerById(t){return this.http.get(i.N$.CUSTOMERS+"/"+t)}getCustomerByCustomerId(t){return this.getAllCustomers({customerId:t}).pipe((0,o.U)(t=>t&&t.length>0?t[0]:null),(0,c.d)())}createCustomer(t){return this.http.post(i.N$.CUSTOMERS,t)}updateCustomer(t,e){return this.http.put(i.N$.CUSTOMERS+"/"+e,t)}deleteCustomer(t){return this.http.delete(i.N$.CUSTOMERS+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})()},18742:function(t,e,n){"use strict";n.d(e,{p:function(){return x}});var o=n(22238),c=n(99692),i=n(32789),r=n(37716),a=n(34571),u=n(38583),s=n(29845);function l(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Account No."),r.qZA())}function d(t,e){if(1&t&&(r.TgZ(0,"td",23),r.TgZ(1,"a"),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.accountNo)}}function m(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Customer Name"),r.qZA())}function g(t,e){if(1&t&&(r.TgZ(0,"td",23),r._uU(1),r.ALo(2,"async"),r.qZA()),2&t){const t=e.$implicit;let n;r.xp6(1),r.hij(" ",null==(n=r.lcZ(2,1,t.customer))?null:n.name," ")}}function f(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Product Name"),r.qZA())}function p(t,e){if(1&t&&(r.TgZ(0,"td",23),r._uU(1),r.ALo(2,"async"),r.qZA()),2&t){const t=e.$implicit;let n;r.xp6(1),r.hij(" ",null==(n=r.lcZ(2,1,t.product))?null:n.name," ")}}function h(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Amount"),r.qZA())}function Z(t,e){if(1&t&&(r.TgZ(0,"td",23),r._uU(1),r.ALo(2,"inr"),r.ALo(3,"async"),r.qZA()),2&t){const t=e.$implicit;let n;r.xp6(1),r.hij(" ",r.lcZ(2,1,null==(n=r.lcZ(3,3,t.lead))?null:n.amount)," ")}}function A(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Interest %"),r.qZA())}function y(t,e){if(1&t&&(r.TgZ(0,"td",23),r._uU(1),r.ALo(2,"async"),r.qZA()),2&t){const t=e.$implicit;let n;r.xp6(1),r.hij(" ",null==(n=r.lcZ(2,1,t.product))?null:n.interest," ")}}function v(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Monthly Interest"),r.qZA())}function T(t,e){if(1&t&&(r.TgZ(0,"td",23),r._uU(1),r.ALo(2,"inr"),r.ALo(3,"async"),r.qZA()),2&t){const t=e.$implicit;let n;r.xp6(1),r.hij(" ",r.lcZ(2,1,null==(n=r.lcZ(3,3,t.lead))?null:n.monthlyInterest)," ")}}function C(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Frequency"),r.qZA())}function q(t,e){if(1&t&&(r.TgZ(0,"td",23),r._uU(1),r.ALo(2,"async"),r.qZA()),2&t){const t=e.$implicit;let n;r.xp6(1),r.hij(" ",null==(n=r.lcZ(2,1,t.product))?null:n.frequency," ")}}function N(t,e){1&t&&(r.TgZ(0,"th",22),r._uU(1,"Status"),r.qZA())}function S(t,e){if(1&t&&(r.TgZ(0,"td",23),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.status," ")}}function I(t,e){1&t&&r._UZ(0,"tr",24)}function _(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr",25),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().select(e)}),r.qZA()}}function w(t,e){1&t&&(r.TgZ(0,"div",26),r.TgZ(1,"div"),r.TgZ(2,"h4",27),r._uU(3,"No account to display."),r.qZA(),r.qZA(),r.qZA())}const U=function(t){return{display:t}},D=function(){return[10]};let x=(()=>{class t{constructor(t,e,n){this.accountService=t,this.dialogRef=e,this.data=n,this.columns=["accountNo","customerName","productName","amount","interest","monthlyInterest","frequency","status"]}ngOnInit(){this.getAllAccounts()}getAllAccounts(){let t=null;this.data.status&&(t={status:this.data.status}),this.accountService.getAccounts(t).subscribe(t=>{this.dataSource=new i.by(t)},t=>{console.log(t)})}select(t){this.dialogRef.close(t)}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.B),r.Y36(o.so),r.Y36(o.WI))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-account-list-dialog"]],viewQuery:function(t,e){if(1&t&&r.Gf(c.NW,7),2&t){let t;r.iGM(t=r.CRH())&&(e.paginator=t.first)}},decls:37,vars:10,consts:[[1,"row","p-1","bg-gold"],[1,"col-md-6"],[1,"font-400","font-banner",2,"line-height","35px"],[1,"m-3"],[1,"row"],[1,"col-md-12","p-0","table-header","mb-5"],[1,"no-shadow","w-100"],["mat-table","",3,"dataSource","ngStyle"],["matColumnDef","accountNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","name-class",4,"matCellDef"],["matColumnDef","customerName"],["matColumnDef","productName"],["matColumnDef","amount"],["matColumnDef","interest"],["matColumnDef","monthlyInterest"],["matColumnDef","frequency"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["class","d-flex justify-content-center align-items-center","style","height: 40vh",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"name-class"],["mat-header-row",""],["mat-row","",3,"click"],[1,"d-flex","justify-content-center","align-items-center",2,"height","40vh"],[1,"font-grey","font-300"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"span",2),r._uU(3,"Loan Accounts"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r.TgZ(8,"table",7),r.ynx(9,8),r.YNc(10,l,2,0,"th",9),r.YNc(11,d,3,1,"td",10),r.BQk(),r.ynx(12,11),r.YNc(13,m,2,0,"th",9),r.YNc(14,g,3,3,"td",10),r.BQk(),r.ynx(15,12),r.YNc(16,f,2,0,"th",9),r.YNc(17,p,3,3,"td",10),r.BQk(),r.ynx(18,13),r.YNc(19,h,2,0,"th",9),r.YNc(20,Z,4,5,"td",10),r.BQk(),r.ynx(21,14),r.YNc(22,A,2,0,"th",9),r.YNc(23,y,3,3,"td",10),r.BQk(),r.ynx(24,15),r.YNc(25,v,2,0,"th",9),r.YNc(26,T,4,5,"td",10),r.BQk(),r.ynx(27,16),r.YNc(28,C,2,0,"th",9),r.YNc(29,q,3,3,"td",10),r.BQk(),r.ynx(30,17),r.YNc(31,N,2,0,"th",9),r.YNc(32,S,2,1,"td",10),r.BQk(),r.YNc(33,I,1,0,"tr",18),r.YNc(34,_,1,0,"tr",19),r.qZA(),r._UZ(35,"mat-paginator",20),r.YNc(36,w,4,0,"div",21),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Q6J("dataSource",e.dataSource)("ngStyle",r.VKq(7,U,e.dataSource?"":"none")),r.xp6(25),r.Q6J("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",!0),r.xp6(1),r.Q6J("matRowDefColumns",e.columns),r.xp6(1),r.Q6J("pageSizeOptions",r.DdM(9,D)),r.xp6(1),r.Q6J("ngIf",!e.dataSource||!e.dataSource.data))},directives:[i.BZ,u.PC,i.w1,i.fO,i.Dz,i.as,i.nj,c.NW,u.O5,i.ge,i.ev,i.XQ,i.Gk],pipes:[u.Ov,s.K],styles:[".mat-row[_ngcontent-%COMP%]:hover{background-color:#e6e6e6;cursor:pointer}"]}),t})()},95756:function(t,e,n){"use strict";n.d(e,{t:function(){return w}});var o=n(22238),c=n(32789),i=n(7654),r=n(37716),a=n(79332),u=n(63718),s=n(38583);function l(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1,"Customer ID"),r.qZA())}function d(t,e){if(1&t&&(r.TgZ(0,"td",21),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.customerId," ")}}function m(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1,"Name"),r.qZA())}function g(t,e){if(1&t&&(r.TgZ(0,"td",21),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.name," ")}}function f(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1,"Mobile No"),r.qZA())}function p(t,e){if(1&t&&(r.TgZ(0,"td",21),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.mobileNo," ")}}function h(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1,"Gender"),r.qZA())}function Z(t,e){if(1&t&&(r.TgZ(0,"td",21),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.gender," ")}}function A(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1,"Occupation"),r.qZA())}function y(t,e){if(1&t&&(r.TgZ(0,"td",21),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.occupation," ")}}function v(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1,"Status"),r.qZA())}function T(t,e){if(1&t&&(r.TgZ(0,"td",21),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.status," ")}}function C(t,e){1&t&&(r.TgZ(0,"th",20),r._uU(1,"Address"),r.qZA())}function q(t,e){if(1&t&&(r.TgZ(0,"td",21),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.address," ")}}function N(t,e){1&t&&r._UZ(0,"tr",22)}function S(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr",23),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().select(e)}),r.qZA()}}function I(t,e){1&t&&(r.TgZ(0,"div",24),r.TgZ(1,"div"),r.TgZ(2,"h4",25),r._uU(3,"No user to display."),r.qZA(),r.qZA(),r.qZA())}const _=function(t){return{display:t}};let w=(()=>{class t{constructor(t,e,n,o,c){this.customerService=t,this.dialogRef=e,this.data=n,this.dialog=o,this.leadService=c,this.columns=["customerId","name","mobileNo","gender","occupation","status","address"]}ngOnInit(){this.getAllCustomers()}getAllCustomers(){this.customerService.getAllCustomers(this.data.query).subscribe(t=>{this.dataSource=new c.by(t)},t=>{console.log(t)})}select(t){"LEAD"===this.data.from?this.leadService.getActiveLeads(t.customerId).subscribe(e=>{e.length>0?this.dialog.open(i.z,{data:{title:"Lead exists",subtitle:"This customer is already associated with active lead."}}):this.dialogRef.close(t)},t=>{console.log(t)}):this.dialogRef.close(t)}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.v),r.Y36(o.so),r.Y36(o.WI),r.Y36(o.uw),r.Y36(u.y))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-customer-dialog"]],decls:33,vars:8,consts:[[1,"row","p-2","bg-gold"],[1,"col-md-6"],[1,"font-400","font-banner",2,"line-height","35px"],[1,"m-4"],[1,"row"],[1,"col-md-12","p-0","table-header","mb-5"],[1,"no-shadow","w-100"],["mat-table","",3,"dataSource","ngStyle"],["matColumnDef","customerId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","name-class",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","mobileNo"],["matColumnDef","gender"],["matColumnDef","occupation"],["matColumnDef","status"],["matColumnDef","address"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center align-items-center","style","height: 40vh",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"name-class"],["mat-header-row",""],["mat-row","",3,"click"],[1,"d-flex","justify-content-center","align-items-center",2,"height","40vh"],[1,"font-grey","font-300"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"span",2),r._uU(3,"Customers"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r.TgZ(8,"table",7),r.ynx(9,8),r.YNc(10,l,2,0,"th",9),r.YNc(11,d,2,1,"td",10),r.BQk(),r.ynx(12,11),r.YNc(13,m,2,0,"th",9),r.YNc(14,g,2,1,"td",10),r.BQk(),r.ynx(15,12),r.YNc(16,f,2,0,"th",9),r.YNc(17,p,2,1,"td",10),r.BQk(),r.ynx(18,13),r.YNc(19,h,2,0,"th",9),r.YNc(20,Z,2,1,"td",10),r.BQk(),r.ynx(21,14),r.YNc(22,A,2,0,"th",9),r.YNc(23,y,2,1,"td",10),r.BQk(),r.ynx(24,15),r.YNc(25,v,2,0,"th",9),r.YNc(26,T,2,1,"td",10),r.BQk(),r.ynx(27,16),r.YNc(28,C,2,0,"th",9),r.YNc(29,q,2,1,"td",10),r.BQk(),r.YNc(30,N,1,0,"tr",17),r.YNc(31,S,1,0,"tr",18),r.qZA(),r.YNc(32,I,4,0,"div",19),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Q6J("dataSource",e.dataSource)("ngStyle",r.VKq(6,_,e.dataSource?"":"none")),r.xp6(22),r.Q6J("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",!0),r.xp6(1),r.Q6J("matRowDefColumns",e.columns),r.xp6(1),r.Q6J("ngIf",!e.dataSource||!e.dataSource.data))},directives:[c.BZ,s.PC,c.w1,c.fO,c.Dz,c.as,c.nj,s.O5,c.ge,c.ev,c.XQ,c.Gk],styles:[".mat-row[_ngcontent-%COMP%]:hover{background-color:#e6e6e6;cursor:pointer}"]}),t})()},15989:function(t,e,n){"use strict";n.d(e,{J:function(){return w}});var o=n(32789),c=n(62831),i=n(37716),r=n(63718),a=n(22238),u=n(38583),s=n(29845);function l(t,e){1&t&&(i.TgZ(0,"th",20),i._uU(1,"Lead ID"),i.qZA())}function d(t,e){if(1&t&&(i.TgZ(0,"td",21),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.hij(" ",t.leadId," ")}}function m(t,e){1&t&&(i.TgZ(0,"th",20),i._uU(1,"Customer Name"),i.qZA())}function g(t,e){if(1&t&&(i.TgZ(0,"td",21),i._uU(1),i.ALo(2,"async"),i.qZA()),2&t){const t=e.$implicit;let n;i.xp6(1),i.hij(" ",null==(n=i.lcZ(2,1,t.customer))?null:n.name," ")}}function f(t,e){1&t&&(i.TgZ(0,"th",20),i._uU(1,"Product Name"),i.qZA())}function p(t,e){if(1&t&&(i.TgZ(0,"td",21),i._uU(1),i.ALo(2,"async"),i.qZA()),2&t){const t=e.$implicit;let n;i.xp6(1),i.hij(" ",null==(n=i.lcZ(2,1,t.product))?null:n.name," ")}}function h(t,e){1&t&&(i.TgZ(0,"th",20),i._uU(1,"Interest %"),i.qZA())}function Z(t,e){if(1&t&&(i.TgZ(0,"td",21),i._uU(1),i.ALo(2,"async"),i.qZA()),2&t){const t=e.$implicit;let n;i.xp6(1),i.hij(" ",null==(n=i.lcZ(2,1,t.product))?null:n.interest," ")}}function A(t,e){1&t&&(i.TgZ(0,"th",20),i._uU(1,"Amount"),i.qZA())}function y(t,e){if(1&t&&(i.TgZ(0,"td",21),i._uU(1),i.ALo(2,"inr"),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,t.amount)," ")}}function v(t,e){1&t&&(i.TgZ(0,"th",20),i._uU(1,"Frequency"),i.qZA())}function T(t,e){if(1&t&&(i.TgZ(0,"td",21),i._uU(1),i.ALo(2,"async"),i.qZA()),2&t){const t=e.$implicit;let n;i.xp6(1),i.hij(" ",null==(n=i.lcZ(2,1,t.product))?null:n.frequency," ")}}function C(t,e){1&t&&(i.TgZ(0,"th",20),i._uU(1,"Status"),i.qZA())}function q(t,e){if(1&t&&(i.TgZ(0,"td",21),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.hij(" ",t.status," ")}}function N(t,e){1&t&&i._UZ(0,"tr",22)}function S(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"tr",23),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().select(e)}),i.qZA()}}function I(t,e){1&t&&(i.TgZ(0,"div",24),i.TgZ(1,"div"),i.TgZ(2,"h4",25),i._uU(3,"No lead to display."),i.qZA(),i.qZA(),i.qZA())}const _=function(t){return{display:t}};let w=(()=>{class t{constructor(t,e){this.leadService=t,this.dialogRef=e,this.columns=["leadId","customer","product","interest","amount","status","frequency"]}ngOnInit(){this.getLeads()}getLeads(){this.leadService.getLeads({status:c.rl.QUALIFIED}).subscribe(t=>{this.dataSource=new o.by(t)},t=>{console.log(t)})}select(t){this.dialogRef.close(t)}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.y),i.Y36(a.so))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lead-dialog"]],decls:33,vars:8,consts:[[1,"row","p-2","bg-gold"],[1,"col-md-6"],[1,"font-400","font-banner",2,"line-height","35px"],[1,"m-4"],[1,"row"],[1,"col-md-12","p-0","table-header","mb-5"],[1,"no-shadow","w-100"],["mat-table","",3,"dataSource","ngStyle"],["matColumnDef","leadId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","name-class",4,"matCellDef"],["matColumnDef","customer"],["matColumnDef","product"],["matColumnDef","interest"],["matColumnDef","amount"],["matColumnDef","frequency"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center align-items-center","style","height: 40vh",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"name-class"],["mat-header-row",""],["mat-row","",3,"click"],[1,"d-flex","justify-content-center","align-items-center",2,"height","40vh"],[1,"font-grey","font-300"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"span",2),i._uU(3,"Leads"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i.TgZ(6,"div",5),i.TgZ(7,"div",6),i.TgZ(8,"table",7),i.ynx(9,8),i.YNc(10,l,2,0,"th",9),i.YNc(11,d,2,1,"td",10),i.BQk(),i.ynx(12,11),i.YNc(13,m,2,0,"th",9),i.YNc(14,g,3,3,"td",10),i.BQk(),i.ynx(15,12),i.YNc(16,f,2,0,"th",9),i.YNc(17,p,3,3,"td",10),i.BQk(),i.ynx(18,13),i.YNc(19,h,2,0,"th",9),i.YNc(20,Z,3,3,"td",10),i.BQk(),i.ynx(21,14),i.YNc(22,A,2,0,"th",9),i.YNc(23,y,3,3,"td",10),i.BQk(),i.ynx(24,15),i.YNc(25,v,2,0,"th",9),i.YNc(26,T,3,3,"td",10),i.BQk(),i.ynx(27,16),i.YNc(28,C,2,0,"th",9),i.YNc(29,q,2,1,"td",10),i.BQk(),i.YNc(30,N,1,0,"tr",17),i.YNc(31,S,1,0,"tr",18),i.qZA(),i.YNc(32,I,4,0,"div",19),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(8),i.Q6J("dataSource",e.dataSource)("ngStyle",i.VKq(6,_,e.dataSource?"":"none")),i.xp6(22),i.Q6J("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",!0),i.xp6(1),i.Q6J("matRowDefColumns",e.columns),i.xp6(1),i.Q6J("ngIf",!e.dataSource||!e.dataSource.data))},directives:[o.BZ,u.PC,o.w1,o.fO,o.Dz,o.as,o.nj,u.O5,o.ge,o.ev,o.XQ,o.Gk],pipes:[u.Ov,s.K],styles:[".mat-row[_ngcontent-%COMP%]:hover{background-color:#e6e6e6;cursor:pointer}"]}),t})()},62673:function(t,e,n){"use strict";n.d(e,{_:function(){return N}});var o=n(32789),c=n(37716),i=n(22238),r=n(79830),a=n(38583);function u(t,e){1&t&&(c.TgZ(0,"th",20),c._uU(1,"Product ID"),c.qZA())}function s(t,e){if(1&t&&(c.TgZ(0,"td",21),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.productId,"")}}function l(t,e){1&t&&(c.TgZ(0,"th",20),c._uU(1,"Name"),c.qZA())}function d(t,e){if(1&t&&(c.TgZ(0,"td",22),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.name,"")}}function m(t,e){1&t&&(c.TgZ(0,"th",20),c._uU(1,"Type"),c.qZA())}function g(t,e){if(1&t&&(c.TgZ(0,"td",22),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.type,"")}}function f(t,e){1&t&&(c.TgZ(0,"th",20),c._uU(1,"Interest"),c.qZA())}function p(t,e){if(1&t&&(c.TgZ(0,"td",22),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.interest,"%")}}function h(t,e){1&t&&(c.TgZ(0,"th",20),c._uU(1,"Frequency"),c.qZA())}function Z(t,e){if(1&t&&(c.TgZ(0,"td",22),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.frequency,"")}}function A(t,e){1&t&&(c.TgZ(0,"th",20),c._uU(1,"Secured Product"),c.qZA())}function y(t,e){if(1&t&&(c.TgZ(0,"td",22),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t.securedProduct?"Yes":"No"," ")}}function v(t,e){1&t&&c._UZ(0,"tr",23)}function T(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"tr",24),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw().select(e)}),c.qZA()}}function C(t,e){1&t&&(c.TgZ(0,"div",25),c.TgZ(1,"div"),c.TgZ(2,"h4",26),c._uU(3,"No product to display."),c.qZA(),c.qZA(),c.qZA())}const q=function(t){return{display:t}};let N=(()=>{class t{constructor(t,e){this.dialogRef=t,this.productService=e,this.columns=["productId","name","interest","frequency"]}ngOnInit(){this.getAllProducts()}getAllProducts(){this.productService.getAllProducts().subscribe(t=>{this.dataSource=new o.by(t)},t=>{console.log(t)})}select(t){this.dialogRef.close(t)}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(i.so),c.Y36(r.M))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-dialog"]],decls:30,vars:8,consts:[[1,"row","p-1","bg-gold"],[1,"col-md-6"],[1,"font-400","font-banner",2,"line-height","35px"],[1,"m-4"],[1,"row"],[1,"col-md-12","p-0","table-header","mb-5"],[1,"no-shadow","w-100"],["mat-table","",3,"dataSource","ngStyle"],["matColumnDef","productId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","class","name-class",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","interest"],["matColumnDef","frequency"],["matColumnDef","securedProduct"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center align-items-center","style","height: 40vh;",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"name-class"],["mat-header-row",""],["mat-row","",3,"click"],[1,"d-flex","justify-content-center","align-items-center",2,"height","40vh"],[1,"font-grey","font-300"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"span",2),c._uU(3,"Products"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"table",7),c.ynx(9,8),c.YNc(10,u,2,0,"th",9),c.YNc(11,s,2,1,"td",10),c.BQk(),c.ynx(12,11),c.YNc(13,l,2,0,"th",9),c.YNc(14,d,2,1,"td",12),c.BQk(),c.ynx(15,13),c.YNc(16,m,2,0,"th",9),c.YNc(17,g,2,1,"td",12),c.BQk(),c.ynx(18,14),c.YNc(19,f,2,0,"th",9),c.YNc(20,p,2,1,"td",12),c.BQk(),c.ynx(21,15),c.YNc(22,h,2,0,"th",9),c.YNc(23,Z,2,1,"td",12),c.BQk(),c.ynx(24,16),c.YNc(25,A,2,0,"th",9),c.YNc(26,y,2,1,"td",12),c.BQk(),c.YNc(27,v,1,0,"tr",17),c.YNc(28,T,1,0,"tr",18),c.qZA(),c.YNc(29,C,4,0,"div",19),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(8),c.Q6J("dataSource",e.dataSource)("ngStyle",c.VKq(6,q,e.dataSource?"":"none")),c.xp6(19),c.Q6J("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",!0),c.xp6(1),c.Q6J("matRowDefColumns",e.columns),c.xp6(1),c.Q6J("ngIf",!e.dataSource||!e.dataSource.data))},directives:[o.BZ,a.PC,o.w1,o.fO,o.Dz,o.as,o.nj,a.O5,o.ge,o.ev,o.XQ,o.Gk],styles:[".mat-row[_ngcontent-%COMP%]:hover{background-color:#e6e6e6;cursor:pointer}"]}),t})()},60974:function(t,e,n){"use strict";n.d(e,{d:function(){return C}});var o=n(64762),c=n(40826),i=n(3679),r=n(22238),a=n(62831),u=n(18475),s=n(34709),l=n(37716),d=n(18108),m=n(77001),g=n(76627),f=n(38583),p=n(51095),h=n(29845);function Z(t,e){1&t&&(l.TgZ(0,"div"),l._uU(1,"Required"),l.qZA())}function A(t,e){if(1&t&&(l.TgZ(0,"div",18),l.YNc(1,Z,2,0,"div",19),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.amountPaidCtrl.hasError("required"))}}function y(t,e){1&t&&(l.TgZ(0,"div"),l._uU(1,"Required"),l.qZA())}function v(t,e){if(1&t&&(l.TgZ(0,"div",18),l.YNc(1,y,2,0,"div",19),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.dateOfPaymentCtrl.hasError("required"))}}function T(t,e){if(1&t&&(l.TgZ(0,"option",20),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.Q6J("value",t.val),l.xp6(1),l.hij(" ",t.val," ")}}let C=(()=>{class t{constructor(t,e,n,o){this.dialogRef=t,this.data=e,this.repaymentService=n,this.snackbar=o,this.amountPaidCtrl=new i.NI("",i.kI.required),this.dueAmountCtrl=new i.NI("",i.kI.required),this.statusCtrl=new i.NI("",i.kI.required),this.dateOfPaymentCtrl=new i.NI("",i.kI.required),this.repaymentStatuses=a.pe,this.amountPaidCtrl.valueChanges.subscribe(t=>{this.calculateDueAmount()}),this.formGroup=new i.cw({amountPaidCtrl:this.amountPaidCtrl,dueAmountCtrl:this.dueAmountCtrl,statusCtrl:this.statusCtrl,dateOfPaymentCtrl:this.dateOfPaymentCtrl})}ngOnInit(){return(0,o.mG)(this,void 0,void 0,function*(){this.dueAmountCtrl.disable();try{this.lead=yield this.data.lead.toPromise(),this.amountPaidCtrl.setValue(this.lead.monthlyInterest),this.dueAmountCtrl.setValue(0)}catch(t){console.log(t)}})}calculateDueAmount(){const t=parseFloat(this.amountPaidCtrl.value);if(!this.data||!this.data.lead||!this.lead.monthlyInterest)return;const e=this.lead.monthlyInterest;if(t>e)return void this.amountPaidCtrl.setValue(e);let n=e-t;t===e&&(n=0),this.dueAmountCtrl.setValue(n)}repay(){const t={id:null,status:this.statusCtrl.value,amountPaid:this.amountPaidCtrl.value,dateOfPayment:c.Z.HTMLDateStringToDate(this.dateOfPaymentCtrl.value),dueAmount:this.dueAmountCtrl.value,accountNo:this.data.accountNo,customerId:this.data.customerId,leadId:this.data.leadId,productId:this.data.productId};this.repaymentService.createRepayment(t).subscribe(t=>{this.dialogRef.close(),this.snackbar.openFromComponent(u.a,Object.assign({data:s.Ky.successData("Saved")},s.Ky.flashTopSuccessSnackBar()))},t=>{console.error(t),this.snackbar.openFromComponent(u.a,Object.assign({data:s.Ky.dangerData("Something went wrong")},s.Ky.flashTopDangerSnackBar()))})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(r.so),l.Y36(r.WI),l.Y36(d.r),l.Y36(m.ux))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-repayment-dialog"]],decls:51,vars:13,consts:[[1,"content"],[1,"heading","d-flex","justify-content-between","align-items-center"],[1,"cursor-pointer",3,"click"],[1,"body-content","mt-4"],[1,"form-content"],[1,"field"],[1,"input-container"],[1,"label-container"],["for",""],[1,"required"],["class","error",4,"ngIf"],["type","number",1,"w-100",3,"formControl"],["type","date",1,"w-100",3,"formControl"],[1,"w-100",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"footer","mt-3","d-flex","justify-content-end","align-items-center"],["mat-raised-button","",1,"bg-dark-green","me-3","font-white",3,"disabled","click"],["mat-raised-button","",1,"bg-red","font-white",3,"click"],[1,"error"],[4,"ngIf"],[3,"value"]],template:function(t,e){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2"),l._uU(3,"Repayment"),l.qZA(),l.TgZ(4,"mat-icon",2),l.NdJ("click",function(){return e.dialogRef.close()}),l._uU(5,"close"),l.qZA(),l.qZA(),l.TgZ(6,"div",3),l.TgZ(7,"div",4),l.TgZ(8,"div",5),l.TgZ(9,"label"),l._uU(10,"Monthly interest to be paid :"),l.qZA(),l.TgZ(11,"div"),l._uU(12),l.ALo(13,"inr"),l.ALo(14,"async"),l.qZA(),l.qZA(),l.TgZ(15,"div",6),l.TgZ(16,"div",7),l.TgZ(17,"label",8),l._uU(18,"Amount Paid "),l.TgZ(19,"span",9),l._uU(20,"*"),l.qZA(),l.qZA(),l.YNc(21,A,2,1,"div",10),l.qZA(),l._UZ(22,"input",11),l.qZA(),l.TgZ(23,"div",6),l.TgZ(24,"div",7),l.TgZ(25,"label",8),l._uU(26,"Due Amount"),l.TgZ(27,"span",9),l._uU(28,"*"),l.qZA(),l.qZA(),l.qZA(),l._UZ(29,"input",11),l.qZA(),l.TgZ(30,"div",6),l.TgZ(31,"div",7),l.TgZ(32,"label",8),l._uU(33,"Date of payment "),l.TgZ(34,"span",9),l._uU(35,"*"),l.qZA(),l.qZA(),l.YNc(36,v,2,1,"div",10),l.qZA(),l._UZ(37,"input",12),l.qZA(),l.TgZ(38,"div",6),l.TgZ(39,"div",7),l.TgZ(40,"label",8),l._uU(41,"Status "),l.TgZ(42,"span",9),l._uU(43,"*"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(44,"select",13),l.YNc(45,T,2,2,"option",14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(46,"div",15),l.TgZ(47,"button",16),l.NdJ("click",function(){return e.repay()}),l._uU(48," Repay "),l.qZA(),l.TgZ(49,"button",17),l.NdJ("click",function(){return e.dialogRef.close()}),l._uU(50," Cancel "),l.qZA(),l.qZA(),l.qZA()),2&t){let t;l.xp6(12),l.Oqu(l.lcZ(13,9,null==(t=l.lcZ(14,11,e.data.lead))?null:t.monthlyInterest)),l.xp6(9),l.Q6J("ngIf",e.amountPaidCtrl.errors&&e.amountPaidCtrl.dirty||e.amountPaidCtrl.touched),l.xp6(1),l.Q6J("formControl",e.amountPaidCtrl),l.xp6(7),l.Q6J("formControl",e.dueAmountCtrl),l.xp6(7),l.Q6J("ngIf",e.dateOfPaymentCtrl.errors&&e.dateOfPaymentCtrl.dirty||e.dateOfPaymentCtrl.touched),l.xp6(1),l.Q6J("formControl",e.dateOfPaymentCtrl),l.xp6(7),l.Q6J("formControl",e.statusCtrl),l.xp6(1),l.Q6J("ngForOf",e.repaymentStatuses),l.xp6(2),l.Q6J("disabled",!e.formGroup.valid)}},directives:[g.Hw,f.O5,i.wV,i.Fj,i.JJ,i.oH,i.EJ,f.sg,p.lW,i.YN,i.Kr],pipes:[h.K,f.Ov],styles:[".input-container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:2px}.input-container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;font-weight:500}.input-container[_ngcontent-%COMP%]   .label-container[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:red;font-weight:600}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;height:24px;border:2px solid #0000008c;border-radius:2px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:rgba(66,66,66,.07);border-color:#d1d1d1}.input-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px;font-weight:500}.content[_ngcontent-%COMP%]{padding:30px}.content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}.content[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column}.content[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{padding-bottom:15px}.content[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;padding-bottom:15px;font-weight:500}"]}),t})()},58322:function(t,e,n){"use strict";n.d(e,{u:function(){return U}});var o=n(22238),c=n(32789),i=n(18475),r=n(34709),a=n(37716),u=n(18108),s=n(77001),l=n(38583);function d(t,e){1&t&&(a.TgZ(0,"th",20),a._uU(1,"Repayment ID"),a.qZA())}function m(t,e){if(1&t&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.xp6(1),a.hij(" ",t.repaymentId," ")}}function g(t,e){1&t&&(a.TgZ(0,"th",20),a._uU(1,"Account Number"),a.qZA())}function f(t,e){if(1&t&&(a.TgZ(0,"td",21),a._uU(1),a.ALo(2,"async"),a.qZA()),2&t){const t=e.$implicit;let n;a.xp6(1),a.hij(" ",null==(n=a.lcZ(2,1,t.account))?null:n.accountNo,"")}}function p(t,e){1&t&&(a.TgZ(0,"th",20),a._uU(1,"Customer Name"),a.qZA())}function h(t,e){if(1&t&&(a.TgZ(0,"td",21),a._uU(1),a.ALo(2,"async"),a.qZA()),2&t){const t=e.$implicit;let n;a.xp6(1),a.hij(" ",null==(n=a.lcZ(2,1,t.customer))?null:n.name,"")}}function Z(t,e){1&t&&(a.TgZ(0,"th",20),a._uU(1,"Date Of Payment"),a.qZA())}function A(t,e){if(1&t&&(a.TgZ(0,"td",21),a._uU(1),a.ALo(2,"date"),a.qZA()),2&t){const t=e.$implicit;a.xp6(1),a.hij(" ",a.lcZ(2,1,t.dateOfPayment),"")}}function y(t,e){1&t&&(a.TgZ(0,"th",20),a._uU(1,"Amount Paid"),a.qZA())}function v(t,e){if(1&t&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.xp6(1),a.hij(" ",t.amountPaid,"")}}function T(t,e){1&t&&(a.TgZ(0,"th",20),a._uU(1,"Due Amount"),a.qZA())}function C(t,e){if(1&t&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.xp6(1),a.hij(" ",t.dueAmount,"")}}function q(t,e){1&t&&(a.TgZ(0,"th",20),a._uU(1,"Status"),a.qZA())}function N(t,e){if(1&t&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.xp6(1),a.hij(" ",t.status," ")}}function S(t,e){1&t&&a._UZ(0,"tr",22)}function I(t,e){1&t&&a._UZ(0,"tr",23)}function _(t,e){1&t&&(a.TgZ(0,"div",24),a.TgZ(1,"div"),a.TgZ(2,"h4",25),a._uU(3,"No lead to display."),a.qZA(),a.qZA(),a.qZA())}const w=function(t){return{display:t}};let U=(()=>{class t{constructor(t,e,n,o){this.dialogRef=t,this.repaymentService=e,this.snackBar=n,this.data=o,this.columns=["repaymentId","accountNo","customerName","dateOfPayment","amountPaid","dueAmount","status"]}ngOnInit(){this.getRepaymentsByAccount()}getRepaymentsByAccount(){let t;this.data.accountNo&&(t={accountNo:this.data.accountNo}),this.repaymentService.getRepayments(t).subscribe(t=>{this.dataSource=new c.by(t)},t=>{console.log(t),this.errorMessage=t.error&&t.error.apiMessage?t.error.apiMessage.detail:t.message,this.snackBar.openFromComponent(i.a,Object.assign({data:r.Ky.dangerData(this.errorMessage)},r.Ky.flashTopDangerSnackBar()))})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(o.so),a.Y36(u.r),a.Y36(s.ux),a.Y36(o.WI))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-repayment-list-dialog"]],decls:33,vars:8,consts:[[1,"row","p-3","bg-gold"],[1,"col-md-6"],[1,"font-400","font-banner",2,"line-height","35px"],[1,"m-3"],[1,"row"],[1,"col-md-12","p-0","table-header","mb-5"],[1,"no-shadow","w-100"],["mat-table","",3,"dataSource","ngStyle"],["matColumnDef","repaymentId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","name-class",4,"matCellDef"],["matColumnDef","accountNo"],["matColumnDef","customerName"],["matColumnDef","dateOfPayment"],["matColumnDef","amountPaid"],["matColumnDef","dueAmount"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","d-flex justify-content-center align-items-center","style","height: 40vh;",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"name-class"],["mat-header-row",""],["mat-row",""],[1,"d-flex","justify-content-center","align-items-center",2,"height","40vh"],[1,"font-grey","font-300"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"span",2),a._uU(3,"Repayments"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"table",7),a.ynx(9,8),a.YNc(10,d,2,0,"th",9),a.YNc(11,m,2,1,"td",10),a.BQk(),a.ynx(12,11),a.YNc(13,g,2,0,"th",9),a.YNc(14,f,3,3,"td",10),a.BQk(),a.ynx(15,12),a.YNc(16,p,2,0,"th",9),a.YNc(17,h,3,3,"td",10),a.BQk(),a.ynx(18,13),a.YNc(19,Z,2,0,"th",9),a.YNc(20,A,3,3,"td",10),a.BQk(),a.ynx(21,14),a.YNc(22,y,2,0,"th",9),a.YNc(23,v,2,1,"td",10),a.BQk(),a.ynx(24,15),a.YNc(25,T,2,0,"th",9),a.YNc(26,C,2,1,"td",10),a.BQk(),a.ynx(27,16),a.YNc(28,q,2,0,"th",9),a.YNc(29,N,2,1,"td",10),a.BQk(),a.YNc(30,S,1,0,"tr",17),a.YNc(31,I,1,0,"tr",18),a.qZA(),a.YNc(32,_,4,0,"div",19),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(8),a.Q6J("dataSource",e.dataSource)("ngStyle",a.VKq(6,w,e.dataSource?"":"none")),a.xp6(22),a.Q6J("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",!0),a.xp6(1),a.Q6J("matRowDefColumns",e.columns),a.xp6(1),a.Q6J("ngIf",!e.dataSource||!e.dataSource.data))},directives:[c.BZ,l.PC,c.w1,c.fO,c.Dz,c.as,c.nj,l.O5,c.ge,c.ev,c.XQ,c.Gk],pipes:[l.Ov,l.uU],styles:[""]}),t})()},39038:function(t,e,n){"use strict";n.d(e,{S:function(){return m}});var o=n(38583),c=(n(95756),n(29768)),i=(n(62673),n(15989),n(22238),n(99692),n(32789),n(37716));n(28977),n(18742),n(58322),n(60974);var r=n(3679),a=n(33430),u=n(34571),s=n(79332),l=n(79830),d=n(63718);let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[u.B,l.M,s.v,d.y],imports:[[o.ez,c.q,r.u5,r.UX,a.d]]}),t})()},63718:function(t,e,n){"use strict";n.d(e,{y:function(){return s}});var o=n(88002),c=n(34709),i=n(37716),r=n(91841),a=n(79332),u=n(79830);let s=(()=>{class t{constructor(t,e,n){this.http=t,this.customerService=e,this.productService=n}getLeads(t){let e=this.http.get(c.N$.LEADS);return t&&(e=this.http.get(c.N$.LEADS,{params:t})),e.pipe((0,o.U)(t=>!t||t.length<=0?[]:t.map(t=>{const e=Object.assign({},t);return e.customer=this.customerService.getCustomerByCustomerId(t.customerId),e.product=this.productService.getIProductByProductId(t.productId),e})))}getLead(t){return this.getLeads(t).pipe((0,o.U)(t=>t?t[0]:null))}getActiveLeads(t){return this.http.get(c.N$.LEADS+"/active/"+t).pipe((0,o.U)(t=>!t||t.length<=0?[]:t.map(t=>{const e=Object.assign({},t);return e.customer=this.customerService.getCustomerByCustomerId(t.customerId),e.product=this.productService.getIProductByProductId(t.productId),e})))}getQualifiedLeads(){return this.http.get(c.N$.LEADS+"/qualified/leads").pipe((0,o.U)(t=>!t||t.length<=0?[]:t.map(t=>{const e=Object.assign({},t);return e.customer=this.customerService.getCustomerByCustomerId(t.customerId),e.product=this.productService.getIProductByProductId(t.productId),e})))}getLeadById(t){return this.http.get(c.N$.LEADS+"/"+t).pipe((0,o.U)(t=>{if(!t)return null;const e=Object.assign({},t);return e.customer=this.customerService.getCustomerByCustomerId(t.customerId),e.product=this.productService.getIProductByProductId(t.productId),e}))}getLeadByLeadId(t){return this.getLeads({leadId:t}).pipe((0,o.U)(t=>t&&t.length>0?t[0]:null))}createLead(t){return this.http.post(c.N$.LEADS,t)}updateLead(t,e){return this.http.put(c.N$.LEADS+"/"+e,t)}deleteLead(t){return this.http.delete(c.N$.LEADS+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.eN),i.LFG(a.v),i.LFG(u.M))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})()},29845:function(t,e,n){"use strict";n.d(e,{K:function(){return c}});var o=n(37716);let c=(()=>{class t{transform(t){var e=(t=Math.round(t)).toString().split("."),n=e[0].substring(e[0].length-3),o=e[0].substring(0,e[0].length-3);""!=o&&"-"!=o&&(n=","+n);var c=o.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return e.length>1&&(c+="."+e[1]),"\u20b9"+c}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"inr",type:t,pure:!0}),t})()},33430:function(t,e,n){"use strict";n.d(e,{d:function(){return i}});var o=n(38583),c=n(37716);let i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[o.ez]]}),t})()},79830:function(t,e,n){"use strict";n.d(e,{M:function(){return u}});var o=n(88002),c=n(9643),i=n(34709),r=n(37716),a=n(91841);let u=(()=>{class t{constructor(t){this.http=t}getAllProducts(t){return t?this.http.get(i.N$.PRODUCTS,{params:t}):this.http.get(i.N$.PRODUCTS)}getProductById(t){return this.http.get(i.N$.PRODUCTS+"/"+t)}getIProductByProductId(t){return this.getAllProducts({productId:t}).pipe((0,o.U)(t=>t&&t.length>0?t[0]:null),(0,c.d)())}createProduct(t){return this.http.post(i.N$.PRODUCTS,t)}updateProduct(t,e){return this.http.put(i.N$.PRODUCTS+"/"+e,t)}deleteProduct(t){return this.http.delete(i.N$.PRODUCTS+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})()},18108:function(t,e,n){"use strict";n.d(e,{r:function(){return d}});var o=n(88002),c=n(34709),i=n(37716),r=n(91841),a=n(34571),u=n(63718),s=n(79830),l=n(79332);let d=(()=>{class t{constructor(t,e,n,o,c){this.http=t,this.accountService=e,this.leadService=n,this.productService=o,this.customerService=c}getRepayments(t){let e=this.http.get(c.N$.REPAYMENTS);return t&&(e=this.http.get(c.N$.REPAYMENTS,{params:t})),e.pipe((0,o.U)(t=>!t||t.length<=0?[]:t.map(t=>{const e=Object.assign({},t);return e.account=this.accountService.getAccountByAccountNo(e.accountNo),e.lead=this.leadService.getLeadByLeadId(e.leadId),e.customer=this.customerService.getCustomerByCustomerId(e.customerId),e.product=this.productService.getIProductByProductId(e.productId),e})))}getRepayment(t){return this.getRepayments(t).pipe((0,o.U)(t=>!t||t.length<=0?null:t[0]))}getRepaymentById(t){return this.http.get(c.N$.REPAYMENTS+"/"+t).pipe((0,o.U)(t=>{if(!t)return null;const e=Object.assign({},t);return e.account=this.accountService.getAccountByAccountNo(e.accountNo),e.lead=this.leadService.getLeadByLeadId(e.leadId),e.customer=this.customerService.getCustomerByCustomerId(e.customerId),e.product=this.productService.getIProductByProductId(e.productId),e}))}createRepayment(t){return this.http.post(c.N$.REPAYMENTS,t)}updateRepayment(t,e){return this.http.put(c.N$.REPAYMENTS+"/"+e,t)}deleteRepayment(t){return this.http.delete(c.N$.REPAYMENTS+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.eN),i.LFG(a.B),i.LFG(u.y),i.LFG(s.M),i.LFG(l.v))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})()},7654:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var o=n(22238),c=n(37716),i=n(76627);let r=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}cancel(){this.dialogRef.close()}ok(){this.dialogRef.close(!0)}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.so),c.Y36(o.WI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-confirmation-dialog"]],decls:15,vars:2,consts:[[1,"d-flex","justify-content-between","pl-4","pt-3","pr-2"],[1,"cursor-pointer",3,"click"],[1,"p-4"],[1,"pt-4","pb-4"],[1,"d-flex","justify-content-end","pt-2"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-save",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h4"),c._uU(2),c.qZA(),c.TgZ(3,"div"),c.TgZ(4,"mat-icon",1),c.NdJ("click",function(){return e.close()}),c._uU(5,"cancel"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",2),c.TgZ(7,"div",3),c._uU(8),c.qZA(),c.TgZ(9,"div",4),c.TgZ(10,"button",5),c.NdJ("click",function(){return e.cancel()}),c._uU(11,"Cancel"),c.qZA(),c._uU(12,"\xa0 "),c.TgZ(13,"button",6),c.NdJ("click",function(){return e.ok()}),c._uU(14,"Ok"),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Oqu(e.data.title),c.xp6(6),c.hij(" ",e.data.subtitle," "))},directives:[i.Hw],styles:[""]}),t})()},18475:function(t,e,n){"use strict";n.d(e,{a:function(){return r}});var o=n(77001),c=n(37716),i=n(76627);let r=(()=>{class t{constructor(t){this.data=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.qD))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-snackbar-info"]],decls:6,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"font-white"],[1,"font-500","font-title-md"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"mat-icon",1),c._uU(2),c.qZA(),c._uU(3,"\xa0 "),c.TgZ(4,"span",2),c._uU(5),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Oqu(e.data.icon),c.xp6(3),c.Oqu(e.data.message))},directives:[i.Hw],styles:[".blue-snackbar[_ngcontent-%COMP%]{background:#2196f3}.mat-icon[_ngcontent-%COMP%]{font-size:24px!important;color:#f5f5f5!important}"]}),t})()},40826:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});class o{static HTMLDateStringToDate(t){if(!t)return null;const e=t.split("-");return new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]))}static DateToHTMLDateString(t){return t?`${t.getFullYear()}-${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}-${t.getDate()<10?"0"+t.getDate():t.getDate()}`:null}}},64762:function(t,e,n){"use strict";function o(t,e,n,o){return new(n||(n=Promise))(function(c,i){function r(t){try{u(o.next(t))}catch(e){i(e)}}function a(t){try{u(o.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?c(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}u((o=o.apply(t,e||[])).next())})}n.d(e,{mG:function(){return o}})}}]);